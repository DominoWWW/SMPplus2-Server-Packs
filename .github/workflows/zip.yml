name: zip
on:
  push:
    branches:
      - main
jobs:
  validate-zip-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: 📥 Checkout repository
        uses: actions/checkout@v4
      - name: 🔎 Validate Resource Pack
        uses: MrKinau/ResourcePackValidator@v1
        with:
          resourcepack: ./resources
          config: .github/workflows/validate-resource-pack-config.json
      - name: 🤐 zip
        uses: actions/checkout@v2
      - uses: vimtor/action-zip@v1.2
        with:
          files: Hub/
          dest: hub.zip
      - name: 🫸push
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email 'github-actions[bot]@users.noreply.github.com'

          git add -A
          git commit -m "Update hub.zip"
          git push
